<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>记一次给react.org提pr的经历 | Kinyaying&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="我是在周五给react官方文档提了pr，然后在下个周二，负责文档的老外给了答复和修改意见。按照他的意见修改后，再次commit，很快就被merge了。在此记录一下这次经历。">
<meta property="og:type" content="article">
<meta property="og:title" content="记一次给react.org提pr的经历">
<meta property="og:url" content="http://yoursite.com/2017/11/21/记一次给react.org提pr的经历/index.html">
<meta property="og:site_name" content="Kinyaying&#39;s Blog">
<meta property="og:description" content="我是在周五给react官方文档提了pr，然后在下个周二，负责文档的老外给了答复和修改意见。按照他的意见修改后，再次commit，很快就被merge了。在此记录一下这次经历。">
<meta property="og:updated_time" content="2017-12-09T13:37:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记一次给react.org提pr的经历">
<meta name="twitter:description" content="我是在周五给react官方文档提了pr，然后在下个周二，负责文档的老外给了答复和修改意见。按照他的意见修改后，再次commit，很快就被merge了。在此记录一下这次经历。">
  
    <link rel="alternate" href="/atom.xml" title="Kinyaying&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">

    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>

    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Kinyaying&#39;s Blog</a>
      </h1>
      
    </div>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-记一次给react.org提pr的经历" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/21/记一次给react.org提pr的经历/" class="article-date">
  <time datetime="2017-11-21T09:52:34.000Z" itemprop="datePublished">2017-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      记一次给react.org提pr的经历
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <p>我是在周五给react官方文档提了pr，然后在下个周二，负责文档的老外给了答复和修改意见。按照他的意见修改后，再次commit，很快就被merge了。在此记录一下这次经历。<br><a id="more"></a></p>
<h2 id="我提的问题"><a href="#我提的问题" class="headerlink" title="我提的问题"></a>我提的问题</h2><p><a href="https://github.com/reactjs/reactjs.org/pull/239" target="_blank" rel="noopener">我提的PR</a><br>我提的pr主要是给文档补充了另一种声明defaultProps的方式。</p>
<blockquote>
<p> You can also put propTypes and defaultProps as static props inside React class.</p>
</blockquote>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Greeting extends Component &#123;</span><br><span class="line">  static defaultProps = &#123;</span><br><span class="line">    name: &apos;stranger&apos;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;Hello, &#123;this.props.name&#125;&lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>It is considerably more convenient. But non-functional properties are not currently supported for ES2015 classes, you should install extra plugin to support this syntax. If you want to only use strictly ES2015, the former syntax is the better choice.</p>
</blockquote>
<h2 id="我是怎么发现的"><a href="#我是怎么发现的" class="headerlink" title="我是怎么发现的"></a>我是怎么发现的</h2><p>在写代码的过程中，我发现平时都是用<code>static defaultProps</code>这种方式来声明defaultProps，当时是对static这个关键字有点好奇。虽然一直是这么写的，但是平时好像真的没怎么关注它的原理。</p>
<blockquote>
<p>如果在一个方法前，加上<code>static</code>关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”。</p>
</blockquote>
<p>static是ES6的语法糖的写法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Test &#123;</span><br><span class="line">	static defaultProps = 1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>会被babel翻译成这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;use strict&quot;;</span><br><span class="line"></span><br><span class="line">function _classCallCheck(instance, Constructor) &#123; if (!(instance instanceof Constructor)) &#123; throw new TypeError(&quot;Cannot call a class as a function&quot;); &#125; &#125;</span><br><span class="line"></span><br><span class="line">var Test = function Test() &#123;</span><br><span class="line">	_classCallCheck(this, Test);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Test.defaultProps = 1;</span><br></pre></td></tr></table></figure></p>
<p>那么react官网关于初始化props是怎么说的呢？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Greeting extends React.Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;h1&gt;Hello, &#123;this.props.name&#125;&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Specifies the default values for props:</span><br><span class="line">Greeting.defaultProps = &#123;</span><br><span class="line">  name: &apos;Stranger&apos;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// Renders &quot;Hello, Stranger&quot;:</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Greeting /&gt;,</span><br><span class="line">  document.getElementById(&apos;example&apos;)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>官网上写的用法如上，却没有提到<code>static defaultProps</code> 这种方式。但是平时大家好像更经常使用的是<code>static defaultProps</code>这种方式。所以我就补充上了这种用法，并给react提了pr。</p>
<h2 id="这次经历的收获"><a href="#这次经历的收获" class="headerlink" title="这次经历的收获"></a>这次经历的收获</h2><p>1、外国人的做事方式还是很严谨的。我在代码里多了一个空行，也被他发现并删除了。所以，平时也要严格要求自己。</p>
<p>2、平时在有能力的前提下，最好多阅读英文文档，这样不光是可以获得第一手资料，还可以在平时就培养一些语感。因为在跟老外交流的过程中就明显发现自己英文词汇的匮乏。<code>书到用时方恨少</code>是真真的感受到了。</p>
<p>3、在平时有疑问可以去查看官方文档，然后结合网上的一些资料和自己的理解进行尝试。有些用法哪怕我们已经习以为常了，也要多反问自己，为什么要这么做。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/11/21/记一次给react.org提pr的经历/" data-id="cjb0fmqzj0005lv131coslnm0" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
 <script src="/jquery/jquery.min.js"></script>
  <div id="random_posts">
    <h2>Recommended Posts</h2>
    <div class="random_posts_ul">
      <script>
          var random_count =4
          var site = {BASE_URI:'/'};
          function load_random_posts(obj) {
              var arr=site.posts;
              if (!obj) return;
              // var count = $(obj).attr('data-count') || 6;
              for (var i, tmp, n = arr.length; n; i = Math.floor(Math.random() * n), tmp = arr[--n], arr[n] = arr[i], arr[i] = tmp);
              arr = arr.slice(0, random_count);
              var html = '<ul>';
            
              for(var j=0;j<arr.length;j++){
                var item=arr[j];
                html += '<li><strong>' + 
                item.date + ':&nbsp;&nbsp;<a href="' + (site.BASE_URI+item.uri) + '">' + 
                (item.title || item.uri) + '</a></strong>';
                if(item.excerpt){
                  html +='<div class="post-excerpt">'+item.excerpt+'</div>';
                }
                html +='</li>';
                
              }
              $(obj).html(html + '</ul>');
          }
          $('.random_posts_ul').each(function () {
              var c = this;
              if (!site.posts || !site.posts.length){
                  $.getJSON(site.BASE_URI + 'js/posts.js',function(json){site.posts = json;load_random_posts(c)});
              } 
               else{
                load_random_posts(c);
              }
          });
      </script>
    </div>
  </div>

    
<nav id="article-nav">
  
    <a href="/2017/11/21/贪吃蛇react/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          贪吃蛇react
        
      </div>
    </a>
  
  
    <a href="/2017/11/21/在ReactJS中setState操作有可能是同步的【译】/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">在ReactJS中setState操作有可能是同步的【译】</div>
    </a>
  
</nav>

  
</article>
 
     
  <div class="comments" id="comments">
    
     
       
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
       
      
      
  </div>
 
  
</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">Content</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#我提的问题"><span class="toc-number">1.</span> <span class="toc-text"><a href="#&#x6211;&#x63D0;&#x7684;&#x95EE;&#x9898;" class="headerlink" title="&#x6211;&#x63D0;&#x7684;&#x95EE;&#x9898;"></a>&#x6211;&#x63D0;&#x7684;&#x95EE;&#x9898;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#我是怎么发现的"><span class="toc-number">2.</span> <span class="toc-text"><a href="#&#x6211;&#x662F;&#x600E;&#x4E48;&#x53D1;&#x73B0;&#x7684;" class="headerlink" title="&#x6211;&#x662F;&#x600E;&#x4E48;&#x53D1;&#x73B0;&#x7684;"></a>&#x6211;&#x662F;&#x600E;&#x4E48;&#x53D1;&#x73B0;&#x7684;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#这次经历的收获"><span class="toc-number">3.</span> <span class="toc-text"><a href="#&#x8FD9;&#x6B21;&#x7ECF;&#x5386;&#x7684;&#x6536;&#x83B7;" class="headerlink" title="&#x8FD9;&#x6B21;&#x7ECF;&#x5386;&#x7684;&#x6536;&#x83B7;"></a>&#x8FD9;&#x6B21;&#x7ECF;&#x5386;&#x7684;&#x6536;&#x83B7;</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
    <!--微信公众号二维码-->


  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2017 Kinyaying&nbsp;|&nbsp;
      Theme by <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      Contact&nbsp;|&nbsp;youemail@outlook.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
      

  
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "e2fb4051c49842688ce669e634bc983f",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
    

  







<!-- author:forvoid begin -->
<!-- author:forvoid begin -->

<!-- author:forvoid end -->

<!-- author:forvoid end -->


  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      })
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      })
    </script>
    <script type="text/javascript" src="https://cdn.rawgit.com/mathjax/MathJax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>