# 5åˆ†é’Ÿä¸Šæ‰‹å¼€å‘æµè§ˆå™¨æ’ä»¶â€”â€”æ²¹çŒ´è„šæ‰‹æ¶wokoo(ä½¿ç”¨ç¯‡)

## æ²¹çŒ´æ’ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ

æ²¹çŒ´æ’ä»¶(Tampermonkey) æ˜¯ä¸€æ¬¾å…è´¹çš„æµè§ˆå™¨æ‰©å±•å’Œæœ€ä¸ºæµè¡Œçš„ç”¨æˆ·è„šæœ¬ç®¡ç†å™¨ï¼Œå®ƒé€‚ç”¨äº Chrome, Edge, Safariç­‰å¤šä¸ªæµè§ˆå™¨ã€‚æ²¹çŒ´è„šæœ¬æœ¬è´¨ä¸Šæ˜¯åœ¨ç½‘é¡µä¸Šæ’å…¥ä¸€æ®µ JavaScript(JS) ä»£ç ï¼Œå¼€å‘è€…åœ¨ä»£ç ä¸­ç¼–å†™å†…å®¹ï¼Œå¼€å‘æ’ä»¶ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æä¾›Userscript Headerå’ŒApplication Programming Interfaceç»™å¼€å‘è€…ï¼Œç”¨æ¥å®ç°åŸç”Ÿ JS æ— æ³•å®ç°çš„åŠŸèƒ½ã€‚

æ²¹çŒ´æ’ä»¶çš„å¼€å‘æ–‡æ¡£è¯·çœ‹è¿™é‡Œ ğŸ‘‰ [[æ²¹çŒ´æ’ä»¶å¼€å‘æ–‡æ¡£](https://www.tampermonkey.net/documentation.php?version=4.6&ext=dhdg)]

## ä¸ºä»€ä¹ˆè¦å¼€å‘wokooè„šæ‰‹æ¶

æ²¹çŒ´æ’ä»¶çš„åŸºæœ¬åŸç†æ˜¯æ”¯æŒç”¨æˆ·ä½¿ç”¨jsç¼–å†™è„šæœ¬ä»£ç ï¼Œå†åœ¨ç½‘é¡µçš„ç¯å¢ƒä¸Šä¸‹æ–‡è¿è¡Œã€‚

åœ¨æ²¹çŒ´æ’ä»¶ç”Ÿæˆçš„åŸºç¡€é¡¹ç›®ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ä»€ä¹ˆéƒ½æ²¡æœ‰é…ç½®ï¼Œå®ƒåªæ”¯æŒåŸç”Ÿjså¼€å‘ã€‚è¿™å¯¹äºæˆ‘ä»¬ç†Ÿæ‚‰vueæˆ–reactçš„FEeræ¥è¯´å½±å“æ•ˆç‡ã€‚æˆ‘ä»¬éœ€è¦è‡ªå·±æ­å»ºä¸€ä¸ªåŸºç¡€çš„é¡¹ç›®å·¥ç¨‹ï¼Œè¿›è¡Œå¼€å‘ã€‚è¿˜è¦é…ç½®æ²¹çŒ´è„šæœ¬å†…å®¹ï¼Œç¡®ä¿æ²¹çŒ´æ’ä»¶å¼•å…¥äº†æˆ‘ä»¬å¼€å‘çš„jsä»£ç ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚è€Œwokooåˆ™æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88f5eca70aa145feb6ca36b90c04665d~tplv-k3u1fbpfcp-watermark.image)

å…ˆä»‹ç»ä¸‹wokooè„šæ‰‹æ¶çš„æˆæœï¼š

[wokooè„šæ‰‹æ¶githubä»“åº“](https://github.com/kinyaying/wokoo)

å®‰è£…æ²¹çŒ´æ’ä»¶ï¼š[æ²¹çŒ´æ’ä»¶å®‰è£…åœ°å€](https://chrome.google.com/webstore/detail/tampermonkey-beta/gcalenpjmijncebpfijmoaglllgpjagf?hl=zh-CN)

å®‰è£…demoæ’ä»¶: [wokoo-demo](https://greasyfork.org/zh-CN/scripts/420327-wokoo-demo) ï¼ˆè¯¦ç»†å®‰è£…è¿‡ç¨‹å¯æŸ¥çœ‹ â¡ï¸ [wokoo-demo/readme](https://github.com/kinyaying/wokoo/tree/master/example/wokoo-demo)ï¼‰

å®‰è£…å®Œæˆåçš„æ•ˆæœå¦‚ä¸‹ï¼š

![img](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e978d446a66435b9cf1f9b30eee979d~tplv-k3u1fbpfcp-watermark.image)

## wokooæ˜¯ä»€ä¹ˆ

ä¸€æ¬¾æ²¹çŒ´æ’ä»¶çš„è„šæ‰‹æ¶ã€‚å¦‚æœç›´æ¥å¼€å‘æ²¹çŒ´æ’ä»¶ï¼Œå¼€å‘è€…éœ€è¦è´¹æ—¶æ­å»ºvueæˆ–reactåŸºç¡€é¡¹ç›®ï¼Œè¿˜éœ€è¦å¯¹æ²¹çŒ´è„šæœ¬åŒºåŸŸåšå¯¹åº”çš„é…ç½®ï¼Œå¼€å‘ä½“éªŒå·®ã€‚

wokooå¯ä»¥ä¸€é”®å¼ç”ŸæˆåŸºç¡€é¡¹ç›®ï¼Œå¹¶ä¸”æä¾›åŸºç¡€Tampermonkeyé…ç½®ã€‚

ä¸»è¦æä¾›çš„åŠŸèƒ½æœ‰ï¼š

- å‘½ä»¤è¡Œå¼åˆ›å»ºè„šæ‰‹æ¶åˆå§‹é¡¹ç›®
- æ ¹æ®ç”¨æˆ·é€‰æ‹©ï¼Œç”Ÿæˆvueã€reactçš„åŸºæœ¬é¡¹ç›®
- tampermonkey.txt æ–‡ä»¶ä¸­æä¾›Tampermonkeyé…ç½®

## é¡¹ç›®è®¾è®¡å›¾

![img](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cf77f0701b274c7483a0d6aaba207640~tplv-k3u1fbpfcp-watermark.image)

wokooè„šæ‰‹æ¶çš„è®¾è®¡å‚è€ƒäº†[create-react-app](https://github.com/facebook/create-react-app)ï¼Œæˆ‘ä¹Ÿæ›¾ç»å†™è¿‡ä¸€ç¯‡åˆ†æcraæºç çš„æ–‡ç« ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥é˜…è¯»è¿™ç¯‡ğŸ‘‰[create-react-appæ ¸å¿ƒæºç è§£è¯»](https://juejin.cn/post/6916531902773985294)ã€‚

wokooä¸»è¦ä½¿ç”¨lernaè¿›è¡ŒåŒ…ç®¡ç†ï¼Œåœ¨packagesé‡Œç»´æŠ¤äº†ä¸¤ä¸ªæ¨¡å—ï¼šwokoo-scripts å’Œ wokoo-templateã€‚

**wokoo-scripts**ï¼š

åˆ†æç»ˆç«¯ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤è¡Œï¼Œæ ¹æ®ç”¨æˆ·è¾“å…¥çš„é€‰é¡¹ç”Ÿæˆå¯¹åº”çš„åˆå§‹åŒ–é¡¹ç›®

**wokoo-template**ï¼šé¡¹ç›®æ¨¡æ¿

- åˆ†ä¸ºvueå’Œreact
- æ”¯æŒåŸºç¡€çš„webpacké…ç½®
- tampermonkey.txt æ–‡ä»¶ä¸­æ˜¯æ²¹çŒ´ç¼–è¾‘å™¨å†…å®¹ï¼Œç”¨æˆ·ä¸å¿…è‡ªå·±ç¼–å†™æ²¹çŒ´è„šæœ¬çš„é…ç½®ã€‚å¹¶ä¸”æ­¤å¤„åšäº†ä¼˜åŒ–ï¼Œåœ¨tampermonkey.txtä¸­ä½¿ç”¨åŠ¨æ€å¼•å…¥jsè„šæœ¬çš„æ–¹æ¡ˆï¼Œè€Œä¸æ˜¯@requireå¼•å…¥jsæ–‡ä»¶æ–¹å¼ï¼Œè§£å†³å¼€å‘æ—¶é™æ€èµ„æºç¼“å­˜é—®é¢˜ã€‚

wokooå·¥ä½œæµå¦‚ä¸‹å›¾ğŸ‘‡ï¼š

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/666e725ea331445387a7f8ac8f76b106~tplv-k3u1fbpfcp-watermark.image)

## wokooè„šæ‰‹æ¶ä½¿ç”¨

1. å®‰è£… 

```
npm i wokoo -g
å¤åˆ¶ä»£ç 
```

2.  åˆ›å»ºmy-pluginé¡¹ç›®

```
wokoo my-plugin
å¤åˆ¶ä»£ç 
```

3. é€‰æ‹©æ¡†æ¶ï¼šæ§åˆ¶å°å‡ºç°æç¤º â¡ï¸ which template do you prefer?

[ ] vue

[ ] react

4.  é€‰æ‹©å®Œæ¯•åè‡ªåŠ¨åˆå§‹åŒ–é¡¹ç›®

5. cd my-plugin èƒ½å¤Ÿçœ‹åˆ°ç”Ÿæˆçš„åŸå§‹é¡¹ç›®

## ç›®å½•ç»“æ„

```
.
â”œâ”€â”€ README.md 
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ public                    é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ icon.jpg
â”‚   â””â”€â”€ index.html            htmlæ–‡ä»¶
â”œâ”€â”€ src
â”‚   â”œâ”€â”€ app.less
â”‚   â”œâ”€â”€ app.js
â”‚   â””â”€â”€ index.js             é¡¹ç›®å…¥å£
â”œâ”€â”€ tampermonkey.txt         æ²¹çŒ´è„šæœ¬å…¥å£æ–‡ä»¶
â”œâ”€â”€ webpack.config.base.js
â””â”€â”€ webpack.config.js        webpack é…ç½®
å¤åˆ¶ä»£ç 
```

æ­¤å¤„å±•ç¤ºçš„æ˜¯reacté¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œvueé¡¹ç›®çš„ç»“æ„ç±»ä¼¼ï¼Œä¸å†å±•ç¤ºã€‚

å…¶ä¸­`tampermonkey.txt`æ–‡ä»¶å†…æ˜¯æ²¹çŒ´è„šæœ¬é…ç½®ï¼Œéœ€è¦å°†é‡Œé¢çš„å†…å®¹å¤åˆ¶åˆ°Tampermonkeyç¼–è¾‘å™¨é‡Œã€‚

## å¼€å‘&è°ƒè¯•

1. å¯åŠ¨ 

è¿›å…¥é¡¹ç›®ç›®å½•åï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼š

```
npm start
å¤åˆ¶ä»£ç 
```

2. æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥`localhost:8080`ï¼ŒæŸ¥çœ‹é¡µé¢å±•ç¤ºæ˜¯å¦æ­£å¸¸ã€‚

3. æ‰“å¼€æ²¹çŒ´æ’ä»¶ç¼–è¾‘ç•Œé¢ï¼Œå°† `tampermonkey.txt` é‡Œçš„å†…å®¹å¤åˆ¶åˆ°ç¼–è¾‘æ¡†ä¸­ï¼Œä¿å­˜ã€‚ï¼ˆæ­¤æ­¥éª¤é»˜è®¤ä½ å·²ç»å®‰è£…äº†æ²¹çŒ´æ’ä»¶ï¼Œæ²¡å®‰è£…çš„è¯å°±å®‰è£…ä¸‹ ğŸ‘‰[æ²¹çŒ´æ’ä»¶å®‰è£…åœ°å€](https://chrome.google.com/webstore/detail/tampermonkey-beta/gcalenpjmijncebpfijmoaglllgpjagf?hl=zh-CN)ï¼‰

![img](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/05cb9892e1bd42f4bd12e36f39e185a2~tplv-k3u1fbpfcp-watermark.image)

![img](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3160f3a1c95147ed8fd8d598b9b1966d~tplv-k3u1fbpfcp-watermark.image)

`tampermonkey.txt` ä¸­çš„jsé€»è¾‘æ˜¯ç»™htmlæ‹¼ä¸Šscriptæ ‡ç­¾æ¥è·å–å¤–éƒ¨jsæ–‡ä»¶ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸è¦æ‹…å¿ƒç¼“å­˜é—®é¢˜ï¼Œå¼€å‘å®Œä»£ç åèƒ½ç›´æ¥åœ¨æµè§ˆå™¨çœ‹åˆ°æœ€æ–°çš„æ•ˆæœã€‚

4. æ‰“å¼€ä»»æ„ä¸€ä¸ªç½‘é¡µï¼Œæ¯”å¦‚[www.baidu.com](http://www.baidu.com/)

- æŸ¥çœ‹æ²¹çŒ´ icon æ˜¯å¦æœ‰ä¸€ä¸ª 1 çš„æ•°å­—æ ‡å¿—ï¼Œå¦‚æœæœ‰è¯´æ˜æ²¹çŒ´è„šæœ¬å·²ç»æˆåŠŸæ¿€æ´»
- ç½‘é¡µçš„å³ä¸Šè§’ä¼šå‡ºç°ä¸€åªçŒ´å­ï¼Œè¯´æ˜ä»£ç å·²ç»è·‘é€š

![img](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4304f711784a440db86d03f237f0b81a~tplv-k3u1fbpfcp-watermark.image)

5. æ¥ä¸‹æ¥å¯ä»¥ä¿®æ”¹ä¸šåŠ¡ä»£ç è¿›è¡Œè‡ªå®šä¹‰çš„æ’ä»¶å¼€å‘å•¦~ ğŸŠğŸŠ

## æ„å»º

æ‰§è¡Œå‘½ä»¤

```
npm run build
å¤åˆ¶ä»£ç 
```

## å‘å¸ƒæ’ä»¶åˆ°æ²¹çŒ´å¸‚åœº

å‘å¸ƒæ²¹çŒ´å¸‚åœºçš„ä¼˜ç‚¹æ˜¯ä¸ç”¨å®¡æ ¸ï¼Œå³å‘å³ç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚

1. å°†`/dist/app.bundle.js` æ–‡ä»¶éƒ¨ç½²åˆ° cdn ä¸Šï¼Œè·å–åˆ°å¯¹åº” urlã€‚

æ³¨æ„ï¼š

- jsæ–‡ä»¶å¯æ”¾åˆ° github ä¸Šï¼Œå¦‚æœæ‰˜ç®¡åˆ° github ä¸Šæœ€å¥½åš cdn åŠ é€Ÿ

- å¦‚æœæ²¡æœ‰cdnæœåŠ¡å™¨å¯è·³è¿‡æ­¤æ­¥éª¤ï¼Œåœ¨æ­¥éª¤4ç›´æ¥å°†app.bundle.jså¤åˆ¶åˆ°æ²¹çŒ´è„šæœ¬ç¼–è¾‘å™¨ä¸­

2. ç™»å½•[æ²¹çŒ´å¸‚åœº](https://greasyfork.org/)ï¼Œè°·æ­Œè´¦å·æˆ– github è´¦å·éƒ½å¯ä½¿ç”¨ã€‚

3. ç‚¹å‡»è´¦å·åç§°ï¼Œå†ç‚¹å‡»ã€Œå‘å¸ƒä½ ç¼–å†™çš„è„šæœ¬ã€![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/abcdfbc992fb4fd69a2178ca94876071~tplv-k3u1fbpfcp-watermark.image)

   ![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb025dd64bc643a48858a875f9c70fdc~tplv-k3u1fbpfcp-watermark.image)

4. è¿›å…¥ç¼–è¾‘é¡µï¼Œå°† `tampermonkey.txt` é‡Œçš„å†…å®¹å¤åˆ¶åˆ°ç¼–è¾‘æ¡†ä¸­

æ³¨æ„ï¼š

- æ­¥éª¤1ä¸­å¦‚æœæ‰˜ç®¡äº†cdnï¼Œéœ€è¦å°†ä»£ç ä¸­çš„`localhost:8080`ç½‘å€æ›¿æ¢æˆé™æ€èµ„æº url

- æ­¥éª¤1ä¸­æ²¡æœ‰æ‰˜ç®¡cdnï¼Œåˆ™å°†`/dist/app.bundle.js`æ–‡ä»¶é‡Œçš„å†…å®¹å¤åˆ¶åˆ°ä¸‹å›¾çº¢æ¡†ä½ç½®

  ![img](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7aaced8f163842af9e165b7a98388198~tplv-k3u1fbpfcp-watermark.image)

5. ç‚¹å‡» ã€Œå‘å¸ƒè„šæœ¬ã€å³å¯

## å‚è€ƒ

[create-react-appæ ¸å¿ƒæºç è§£è¯»](https://juejin.cn/post/6916531902773985294)

[æ²¹çŒ´å¸‚åœº](https://sleazyfork.org/zh-CN/scripts?page=1) 

[æ²¹çŒ´æ’ä»¶å¼€å‘æ–‡æ¡£](https://www.tampermonkey.net/documentation.php?version=4.6&ext=dhdg)

â€”â€”

æœªæ¥wokooè„šæ‰‹æ¶ä¹Ÿä¼šæŒç»­æ›´æ–°ï¼Œå¦‚æœæœ‰ç›¸å…³é—®é¢˜æˆ–å»ºè®®å¯ä»¥åœ¨githubä¸Šæissueæˆ–è€…è”ç³»æˆ‘ email: [kinyaying@gamil.com](mailto:kinyaying@gamil.com)ã€‚